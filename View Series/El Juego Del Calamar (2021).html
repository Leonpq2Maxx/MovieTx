
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>El Juego Del Calamar (2021)</title>
</head>
<body>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const serieTitulo = "El juego del calamar";
      const serieImagen = "https://image.tmdb.org/t/p/w300/xNvlt4jn2KbuKJoZ9UiVpm7lYjr.jpg";
      const archivoHTML = "../View Series/El Juego Del Calamar (2021).html";
      const progresoTexto = "Episodio 1 - Prueba"; // Puedes reemplazar con lÃ³gica real

      let historial = JSON.parse(localStorage.getItem('historial_usuarios') || '[]');
      const index = historial.findIndex(h => h.titulo === serieTitulo);

      if (index === -1) {
        historial.unshift({
          titulo: serieTitulo,
          imagen: serieImagen,
          progreso: progresoTexto,
          archivo: archivoHTML,
          timestamp: Date.now()
        });
        if (historial.length > 20) historial.pop();
      } else {
        historial[index].progreso = progresoTexto;
        historial[index].timestamp = Date.now();
      }

      localStorage.setItem('historial_usuarios', JSON.stringify(historial));
    });
  </script>
</body>
</html>
